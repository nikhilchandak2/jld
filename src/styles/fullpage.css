/* Enhanced bidirectional fade transitions - Fixed for better stability */
#fullpage {
  overflow: hidden !important;
  position: fixed !important; /* Changed from relative to fixed */
  top: 0 !important;
  left: 0 !important;
  height: 100vh !important;
  width: 100% !important;
}

.fp-section {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100vh !important;
  opacity: 0 !important;
  visibility: visible !important; /* Keep visible for layout but transparent */
  display: block !important; /* Keep in layout for smooth transitions */
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  will-change: opacity !important;
  backface-visibility: hidden !important;
  transform: translateZ(0) !important;
  z-index: 1 !important;
  overflow: hidden !important;
  background: white !important;
}

/* Active section is fully visible */
.fp-section.active {
  opacity: 1 !important;
  visibility: visible !important; /* Show in layout when active */
  display: block !important; /* Show in layout when active */
  z-index: 10 !important;
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Completely loaded section */
.fp-section.fp-completely {
  opacity: 1 !important;
  visibility: visible !important; /* Show in layout when completely loaded */
  display: block !important; /* Show in layout when completely loaded */
  z-index: 10 !important;
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* First section should be visible immediately on load */
.fp-section:first-child {
  opacity: 1 !important;
  z-index: 10 !important;
}

/* Override first section opacity only after fullpage.js initializes */
body.fp-enabled .fp-section:first-child:not(.active) {
  opacity: 0 !important;
  z-index: 1 !important;
}

/* Hide all non-active sections completely - Fixed for smooth first transitions */
.fp-section:not(.active):not(.fp-completely) {
  opacity: 0 !important;
  z-index: 1 !important;
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Ensure smooth transitions without white space */
.fp-section.fp-destroy {
  opacity: 0 !important;
  visibility: hidden !important;
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Enhanced bidirectional movement states */
.fp-moving .fp-section {
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-moving .fp-section:not(.active) {
  opacity: 0 !important;
  z-index: 1 !important;
}

.fp-moving .fp-section.active {
  opacity: 1 !important;
  z-index: 10 !important;
}

/* Enhanced scrolling support without white space - Fixed for smooth transitions */
.fp-section.fp-next {
  opacity: 0 !important;
  z-index: 1 !important;
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-section.fp-prev {
  opacity: 0 !important;
  z-index: 1 !important;
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Force equal timing for all scroll directions */
.fp-section.fp-direction-up,
.fp-section.fp-direction-down {
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Disable transform animations and ensure consistent timing */
.fp-section,
.fp-tableCell {
  transform: none !important;
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Ensure consistent scrolling behavior */
.fp-section.fp-table {
  transition: opacity 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  display: block !important;
}

/* Override any section-specific transitions */
.fp-section * {
  transition-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Fix for preventing white space flashes */
body {
  background: white !important;
}

html {
  background: white !important;
}

/* Hide custom DotNav component */
.dot-nav {
  display: none !important;
}

/* Navigation dots styling with brand colors */
#fp-nav {
  position: fixed !important;
  z-index: 100 !important;
  right: 20px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
}

#fp-nav ul {
  margin: 0 !important;
  padding: 0 !important;
}

#fp-nav ul li {
  display: block !important;
  width: 14px !important;
  height: 13px !important;
  margin: 7px !important;
  position: relative !important;
}

#fp-nav ul li a {
  display: block !important;
  position: relative !important;
  z-index: 1 !important;
  width: 100% !important;
  height: 100% !important;
  cursor: pointer !important;
  text-decoration: none !important;
}

/* Remove tooltips */
#fp-nav ul li .fp-tooltip {
  display: none !important;
}

/* Default dots (for white/light backgrounds) - JLD Blue */
#fp-nav ul li a span {
  border-radius: 50% !important;
  position: absolute !important;
  z-index: 1 !important;
  height: 4px !important;
  width: 4px !important;
  border: 0 !important;
  background: rgba(43, 35, 94, 0.4) !important; /* jldBlue with opacity */
  left: 50% !important;
  top: 50% !important;
  margin: -2px 0 0 -2px !important;
  transition: all 0.3s ease-in-out !important;
}

#fp-nav ul li a.active span,
#fp-nav ul li:hover a.active span {
  background: #2b235e !important; /* jldBlue */
  width: 10px !important;
  height: 10px !important;
  margin: -5px 0 0 -5px !important;
}

#fp-nav ul li:hover a span {
  width: 8px !important;
  height: 8px !important;
  margin: -4px 0 0 -4px !important;
  background: rgba(43, 35, 94, 0.8) !important; /* jldBlue with more opacity */
}

/* White dots for dark backgrounds (Hero section) */
.fp-viewing-hero #fp-nav ul li a span {
  background: rgba(255, 255, 255, 0.4) !important;
}

.fp-viewing-hero #fp-nav ul li a.active span,
.fp-viewing-hero #fp-nav ul li:hover a.active span {
  background: #ffffff !important;
}

.fp-viewing-hero #fp-nav ul li:hover a span {
  background: rgba(255, 255, 255, 0.8) !important;
}

/* JLD Blue dots for Products section (dark background) */
.fp-viewing-products #fp-nav ul li a span {
  background: rgba(255, 255, 255, 0.4) !important;
}

.fp-viewing-products #fp-nav ul li a.active span,
.fp-viewing-products #fp-nav ul li:hover a.active span {
  background: #ffffff !important;
}

.fp-viewing-products #fp-nav ul li:hover a span {
  background: rgba(255, 255, 255, 0.8) !important;
}

/* Smooth fade for each section going down */
.fp-viewing-hero .fp-section:not([data-anchor="hero"]) {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-viewing-about .fp-section:not([data-anchor="about"]) {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-viewing-snapshot .fp-section:not([data-anchor="snapshot"]) {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-viewing-products .fp-section:not([data-anchor="products"]) {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-viewing-industries .fp-section:not([data-anchor="industries"]) {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-viewing-rnd .fp-section:not([data-anchor="rnd"]) {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-viewing-sustainability .fp-section:not([data-anchor="sustainability"]) {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-viewing-contact .fp-section:not([data-anchor="contact"]) {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Current section visible with consistent timing */
.fp-viewing-hero .fp-section[data-anchor="hero"],
.fp-viewing-about .fp-section[data-anchor="about"],
.fp-viewing-snapshot .fp-section[data-anchor="snapshot"],
.fp-viewing-products .fp-section[data-anchor="products"],
.fp-viewing-industries .fp-section[data-anchor="industries"],
.fp-viewing-rnd .fp-section[data-anchor="rnd"],
.fp-viewing-sustainability .fp-section[data-anchor="sustainability"],
.fp-viewing-contact .fp-section[data-anchor="contact"] {
  opacity: 1 !important;
  z-index: 10 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Disable any transform or translate effects */
.fp-tableCell {
  vertical-align: middle !important;
  display: table-cell !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Enhanced bidirectional fade synchronization */
.fp-section.fp-direction-up {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-section.fp-direction-down {
  opacity: 0 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Force consistent fade timing during transitions */
body.fp-moving .fp-section {
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

body.fp-moving .fp-section:not(.active) {
  opacity: 0 !important;
  z-index: 1 !important;
}

body.fp-moving .fp-section.active {
  opacity: 1 !important;
  z-index: 10 !important;
}

/* Ensure all transition states use identical timing */
.fp-section.fp-is-overflow,
.fp-section.fp-normal-scroll {
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Ensure smooth hardware acceleration */
.fp-section * {
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Ultimate bidirectional fade control */
.fp-section:not(.active):not(.fp-completely) {
  opacity: 0 !important;
  z-index: 1 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.fp-section.active,
.fp-section.fp-completely {
  opacity: 1 !important;
  z-index: 10 !important;
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Override fullpage.js default fade timing for both directions */
#fullpage .fp-section {
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Only hide body overflow when fullpage.js is active */
body.fp-enabled {
  overflow: hidden !important;
}

/* Optimize lazy loading transitions */
.lazy-image-container {
  will-change: opacity;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Smooth loading states */
.loading-placeholder {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Hide fullpage.js watermark */
.fp-watermark {
  display: none !important;
}

/* Additional selectors for watermark hiding */
#fp-nav ul li .fp-tooltip.fp-left,
.fp-watermark,
.fp-watermark a,
div[style*="made with fullPage.js"],
div[style*="fullPage.js"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
} 
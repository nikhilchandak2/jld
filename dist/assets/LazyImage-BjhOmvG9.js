import{r as s,j as e}from"./index--R8XlX_9.js";const E=({src:l,alt:d,className:u="",loadingClassName:x="",containerClassName:m="",placeholder:f=null,onLoad:h=()=>{},...j})=>{const[a,p]=s.useState(!1),[t,v]=s.useState(!1),[o,b]=s.useState(!1),c=s.useRef(null),r=s.useRef(null);s.useEffect(()=>{const i=c.current;if(!i)return;const n=new IntersectionObserver(([L])=>{L.isIntersecting&&(v(!0),n.disconnect())},{threshold:.1,rootMargin:"50px"});return r.current=n,n.observe(i),()=>{r.current&&r.current.disconnect()}},[]);const g=()=>{p(!0),h()},y=()=>{b(!0)};return e.jsxs("div",{ref:c,className:`relative ${m}`,children:[t&&!a&&!o&&e.jsx("div",{className:`absolute inset-0 flex items-center justify-center ${x}`,children:f||e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]})}),t&&o&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("p",{className:"text-sm",children:"Failed to load image"})]})}),t&&e.jsx("img",{src:l,alt:d,className:`${u} ${a?"opacity-100":"opacity-0"} transition-opacity duration-500`,onLoad:g,onError:y,...j})]})};export{E as L};
